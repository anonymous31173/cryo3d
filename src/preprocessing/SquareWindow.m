function w=SquareWindow(n, width)% function w=SquareWindow(n, width)% Creates a 2D cosine-tapered window, where the taper occurs% width from the edge.  The edge points are equal to zero.% The returned matrix is simply the outer product of% two 1D windows, each of dimension n.% If n has two elements, the returned array is rectangular.  Only the first% element of width is used.% n=100;% width=10;if nargin<2    width=max(n)/64;end;width=ceil(width);if numel(n)==1    w1=ones(1,n);  % a row vector    w1(1:width)=0.5-0.5*cos(pi/width*(0:width-1));    w1(n:-1:n-width+1)=w1(1:width);    w=kron(w1,w1'); % take the outer product of w1 with itself.    else  % rectangular    width=round(width(1));    w1=ones(1,n(1));    w1(1:width)=0.5-0.5*cos(pi/width*(0:width-1));    w1(n(1):-1:n(1)-width+1)=w1(1:width);    w2=ones(1,n(2));    w2(1:width)=w1(1:width);    w2(n(2):-1:n(2)-width+1)=w2(1:width);    w=kron(w2,w1');  % both w1 and w2 are row vectors; hence the order.end;